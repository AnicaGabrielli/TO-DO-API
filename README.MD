# Todo API - Sistema de Gerenciamento de Tarefas

Uma API REST simples e funcional para gerenciar tarefas pessoais, desenvolvida com Node.js, Express e SQLite.

## ğŸš€ Tecnologia Escolhida

**Node.js com Express** - Escolhi essa stack por ser:
- **Simples e direta**: CÃ³digo limpo e fÃ¡cil de entender
- **RÃ¡pida para desenvolver**: Menos configuraÃ§Ã£o, mais funcionalidade
- **Amplamente conhecida**: Facilita manutenÃ§Ã£o e colaboraÃ§Ã£o
- **PerformÃ¡tica**: Ideal para APIs REST
- **Ecossistema rico**: Muitas bibliotecas disponÃ­veis

## ğŸ“¦ PrÃ©-requisitos

- Node.js versÃ£o 18 ou superior
- npm (geralmente vem com o Node.js)

## ğŸ› ï¸ Setup do Projeto

### 1. Clone o repositÃ³rio
```bash
git clone <url-do-seu-repositorio>
cd todo-api
```

### 2. Instale as dependÃªncias
```bash
npm install
```

### 3. Configure as variÃ¡veis de ambiente
```bash
# Copie o arquivo de exemplo
cp .env.example .env

# Edite o arquivo .env com suas configuraÃ§Ãµes
# VocÃª pode usar os valores padrÃ£o que jÃ¡ estÃ£o no .env.example
```

### 4. Configure o banco de dados
```bash
npm run setup
```

### 5. Inicie o servidor
```bash
# Modo desenvolvimento (reinicia automaticamente)
npm run dev

# Ou modo produÃ§Ã£o
npm start
```

## ğŸŒ Como Executar

ApÃ³s seguir os passos de setup:

1. **Inicie o servidor**:
   ```bash
   npm run dev
   ```

2. **Acesse a API**:
   - Servidor: `http://localhost:3000`
   - DocumentaÃ§Ã£o: `http://localhost:3000/api-docs`

3. **Teste os endpoints**:
   - Use o Postman/Insomnia com a collection fornecida
   - Ou use a documentaÃ§Ã£o Swagger interativa

## ğŸ“ Como Testar

### OpÃ§Ã£o 1: Swagger/OpenAPI (Recomendado)
1. Acesse `http://localhost:3000/api-docs`
2. Use a interface interativa para testar todos os endpoints
3. Copie o token JWT do login para usar nos endpoints protegidos

### OpÃ§Ã£o 2: Postman/Insomnia
1. Importe o arquivo `postman_collection.json`
2. A collection jÃ¡ estÃ¡ configurada com exemplos
3. Execute primeiro o login para obter o token
4. O token serÃ¡ automaticamente salvo para usar nos outros endpoints

### OpÃ§Ã£o 3: cURL
```bash
# Registrar usuÃ¡rio
curl -X POST http://localhost:3000/auth/register \
  -H "Content-Type: application/json" \
  -d '{"name":"JoÃ£o Silva","email":"joao@email.com","password":"123456"}'

# Fazer login
curl -X POST http://localhost:3000/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"joao@email.com","password":"123456"}'

# Criar tarefa (substitua SEU_TOKEN pelo token recebido no login)
curl -X POST http://localhost:3000/tasks \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -d '{"title":"Estudar Node.js","description":"Revisar conceitos de API REST"}'

# Listar tarefas
curl -X GET http://localhost:3000/tasks \
  -H "Authorization: Bearer SEU_TOKEN"
```

## ğŸ—ï¸ Estrutura do Projeto

```
src/
â”œâ”€â”€ controllers/         # LÃ³gica de negÃ³cio
â”‚   â”œâ”€â”€ authController.js
â”‚   â””â”€â”€ tasksController.js
â”œâ”€â”€ middleware/          # Middlewares customizados
â”‚   â”œâ”€â”€ auth.js         # AutenticaÃ§Ã£o JWT
â”‚   â””â”€â”€ validation.js   # ValidaÃ§Ã£o de dados
â”œâ”€â”€ routes/             # DefiniÃ§Ã£o de rotas
â”‚   â”œâ”€â”€ auth.js
â”‚   â””â”€â”€ tasks.js
â”œâ”€â”€ config/             # ConfiguraÃ§Ãµes
â”‚   â””â”€â”€ swagger.js      # DocumentaÃ§Ã£o API
â”œâ”€â”€ database.js         # ConfiguraÃ§Ã£o do banco
â”œâ”€â”€ server.js          # Servidor principal
â””â”€â”€ setup.js           # Script de configuraÃ§Ã£o
```

## ğŸ”§ DecisÃµes TÃ©cnicas

### **Banco de Dados: SQLite**
- **Por quÃª?** Simples, sem configuraÃ§Ã£o externa, ideal para desenvolvimento
- **BenefÃ­cios**: Zero configuraÃ§Ã£o, portÃ¡vel, suficiente para o escopo do projeto

### **AutenticaÃ§Ã£o: JWT**
- **Por quÃª?** Stateless, simples de implementar, padrÃ£o da indÃºstria
- **ImplementaÃ§Ã£o**: Middleware customizado para validaÃ§Ã£o de tokens

### **ValidaÃ§Ã£o: express-validator**
- **Por quÃª?** Biblioteca madura, integraÃ§Ã£o fÃ¡cil com Express
- **BenefÃ­cios**: ValidaÃ§Ãµes robustas e mensagens de erro claras

### **DocumentaÃ§Ã£o: Swagger/OpenAPI**
- **Por quÃª?** PadrÃ£o da indÃºstria, interface interativa, auto-documentaÃ§Ã£o
- **BenefÃ­cios**: Facilita testes e entendimento da API

### **Estrutura de Pastas**
- **Controllers**: LÃ³gica de negÃ³cio separada das rotas
- **Middleware**: ReutilizaÃ§Ã£o de cÃ³digo para autenticaÃ§Ã£o e validaÃ§Ã£o
- **SeparaÃ§Ã£o de responsabilidades**: Cada arquivo tem uma funÃ§Ã£o especÃ­fica

## ğŸ›¡ï¸ SeguranÃ§a Implementada

- âœ… **Senhas criptografadas** com bcrypt
- âœ… **AutenticaÃ§Ã£o JWT** com expiraÃ§Ã£o
- âœ… **ValidaÃ§Ã£o de dados** robusta
- âœ… **Middleware de autenticaÃ§Ã£o** para rotas protegidas
- âœ… **Tratamento de erros** adequado
- âœ… **CORS configurado** para desenvolvimento

## ğŸ“Š Endpoints da API

### **AutenticaÃ§Ã£o**
- `POST /auth/register` - Cadastro de usuÃ¡rio
- `POST /auth/login` - Login

### **Tarefas** (Requer autenticaÃ§Ã£o)
- `GET /tasks` - Listar tarefas
- `GET /tasks?status=completed` - Filtrar por status
- `POST /tasks` - Criar tarefa
- `GET /tasks/:id` - Buscar tarefa por ID
- `PUT /tasks/:id` - Atualizar tarefa
- `DELETE /tasks/:id` - Excluir tarefa

## ğŸš€ Melhorias Futuras

Se tivesse mais tempo, implementaria:

1. **Testes Automatizados**
   - Testes unitÃ¡rios com Jest
   - Testes de integraÃ§Ã£o para endpoints

2. **Logs Estruturados**
   - Winston para logging
   - Logs de auditoria para aÃ§Ãµes crÃ­ticas

3. **Soft Delete**
   - ExclusÃ£o lÃ³gica de tarefas
   - Possibilidade de recuperar tarefas excluÃ­das

4. **PaginaÃ§Ã£o**
   - PaginaÃ§Ã£o nas listagens
   - Melhor performance com muitos dados

5. **Rate Limiting**
   - ProteÃ§Ã£o contra abuso da API
   - Limites por usuÃ¡rio/IP

6. **Webhooks**
   - NotificaÃ§Ãµes para tarefas vencidas
   - IntegraÃ§Ã£o com outros sistemas

7. **Upload de Arquivos**
   - Anexos em tarefas
   - Armazenamento de imagens

8. **Categorias/Tags**
   - OrganizaÃ§Ã£o melhor das tarefas
   - Filtros mais avanÃ§ados

## ğŸ› Troubleshooting

### Erro: "Cannot find module"
```bash
# Reinstale as dependÃªncias
rm -rf node_modules package-lock.json
npm install
```

### Erro: "EADDRINUSE"
```bash
# Porta jÃ¡ estÃ¡ em uso, mude no .env
PORT=3001
```

### Erro: "Database locked"
```bash
# Remova o banco e recrie
rm database.sqlite
npm run setup
```

## ğŸ“ Suporte

Para dÃºvidas ou problemas:
1. Verifique os logs do servidor
2. Consulte a documentaÃ§Ã£o Swagger
3. Verifique se todas as dependÃªncias foram instaladas
4. Confirme se o banco foi configurado corretamente

## ğŸ“ Exemplo de Uso Completo

```javascript
// 1. Registrar usuÃ¡rio
const registerResponse = await fetch('http://localhost:3000/auth/register', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    name: 'JoÃ£o Silva',
    email: 'joao@email.com',
    password: '123456'
  })
});

// 2. Fazer login
const loginResponse = await fetch('http://localhost:3000/auth/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    email: 'joao@email.com',
    password: '123456'
  })
});

const { token } = await loginResponse.json();

// 3. Criar tarefa
const taskResponse = await fetch('http://localhost:3000/tasks', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}`
  },
  body: JSON.stringify({
    title: 'Estudar Node.js',
    description: 'Revisar conceitos de API REST',
    dueDate: '2024-06-10T10:00:00Z'
  })
});
```

---

**Desenvolvido com â¤ï¸ para o teste tÃ©cnico da Reis Softwares**